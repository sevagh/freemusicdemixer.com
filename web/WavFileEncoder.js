function encodeWavFileFromAudioBuffer(e,r){for(var a=e.numberOfChannels,t=e.length,n=e.sampleRate,o=Array(a),i=0;i<a;i++)if(o[i]=e.getChannelData(i),o[i].length!=t)throw new Error("Unexpected channel data array size.");return encodeWavFileFromArrays(o,n,r)}function encodeWavFileFromArrays(n,e,r){var o=n.length;if(o<1)throw new Error("No audio channels.");var a,t,i,s,f=n[0].length;switch(r){case 0:t=1,i=a=16,s=function(){for(var e=v,r=0;r<f;r++)for(var a=0;a<o;a++){var t=(e=>Math.max(-32768,Math.min(32767,Math.round(32768*e))))(n[a][r]);h.setInt16(e,t,!0),e+=2}};break;case 1:a=32,t=3,i=18,s=function(){for(var e=v,r=0;r<f;r++)for(var a=0;a<o;a++){var t=n[a][r];h.setFloat32(e,t,!0),e+=4}};break;default:throw new Error}var r=Math.ceil(a/8),c=o*r,l=e*o*r,v=20+i+8,r=o*f*r,d=v+r,F=new ArrayBuffer(d),h=new DataView(F);return u(0,"RIFF"),h.setUint32(4,d-8,!0),u(8,"WAVE"),u(12,"fmt "),h.setUint32(16,i,!0),h.setUint16(20,t,!0),h.setUint16(22,o,!0),h.setUint32(24,e,!0),h.setUint32(28,l,!0),h.setUint16(32,c,!0),h.setUint16(34,a,!0),16<i&&h.setUint16(36,0,!0),u(d=20+i,"data"),h.setUint32(d+4,r,!0),s(),F;function u(e,r){for(var a=0;a<r.length;a++)h.setUint8(e+a,r.charCodeAt(a))}}export{encodeWavFileFromAudioBuffer,encodeWavFileFromArrays,encodeWavFileFromAudioBuffer as encodeWavFile,encodeWavFileFromArrays as encodeWavFile2};